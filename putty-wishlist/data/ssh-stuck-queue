Summary: SSH data can get stuck in a queue if session frozen during close
Present-in: 0.58
Class: bug
Content-type: text/x-html-body

<p>
If an SSH connection is frozen (an internal state) over a close,
incoming data can end up stuck in <code>ssh-&gt;queued_incoming_data</code>
and never processed, since that buffer is only examined when new
incoming data comes in from the network. In general, it may be being
processed rather later than it could be.

<p>
There's been a report that this shows up in real life when receiving
lots of data down an SSH-1 connection, where <code>ssh1_throttle()</code>
is called.
<br><tt>&lt;OF39FE4940.43DB4418-ONCC257067.000BF4DD-CC257067.000F5220@bnz.co.nz&gt;</tt>

<p>
<code>ssh_set_frozen()</code> should probably signal something, but
I'm not sure enough of the control flow to know quite what.
