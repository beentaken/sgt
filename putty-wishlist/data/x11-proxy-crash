Summary: Opening X11 connections with proxying turns on causes crash
Class: bug
Priority: high
Content-type: text/x-html-body
Present-in: 0.53 2002-09-29 2002-03-25

<p>Opening a forwarded X11 connection over an SSH connection that's using a
proxy causes PuTTY to crash.  Reports so far:
<ul>
<li>Ref: <code>&lt;3D9B9963.3000006@metaprogramming.org&gt;</code>
<br>Against OpenSSH 2.9.9p2 (unspecified protocol), SOCKS5 proxy
<li>Ref: <code>&lt;OF9A6AB8C9.8F040CB9-ON85256C4B.00750701@boulder.ibm.com&gt;</code>
<br>With SSHv2 against F-SECURE 2.3.1, SOCKS5 proxy
<li>Ref: <code>&lt;20021010114830.53187.qmail@web20909.mail.yahoo.com&gt;</code>
<br>With SSHv2 against OpenSSH 3.1p1, HTTP proxy
<br>Report has SSH packet log and Dr Watson log.
<li>I (JTN) can reproduce this with 0.53 SSH-1 (OpenSSH 1.2.3) and SSH-2
(3.4p1), with HTTP proxying.
</ul>
<p>This bug has been present more or less since proxy support was added.

<p>Appears intermittent. If PuTTY doesn't crash, I get the following reported
in my terminal session:
<p><pre>X connection to chiark:27.0 broken (explicit kill or server shutdown)</pre>
<p>If it does crash, I get something like:
<p><pre>XIO:  fatal IO Error 104 (Connect reset by peer) on X server "chiark:27.0"
      after 0 requests (0 known processed) with 0 events remaining.</pre>

<p>Appears to be occur regardless of whether there's an X server to connect to.
When I do have an X server running, it doesn't appear to see any traffic
when attempting X forwarding through a proxy.
