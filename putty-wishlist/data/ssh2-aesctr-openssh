Summary: Garbled packets from OpenSSH when using OpenSSL 0.9.8e
Present-in: 0.59
Absent-in: 0.58
Content-type: text/x-html-body

<p>There have been a couple of reports of PuTTY reporting "Incoming packet
was garbled on decryption" when connecting to versions of OpenSSH built
against OpenSSL 0.9.8e.  This problem isn't specific to PuTTY -- using
a version of OpenSSH built agains OpenSSL 0.9.8d and configuring it to
use the same ciphers as PuTTY gives the same result.
<p>This bug is in OpenSSH's Bugzilla as
<a href="http://bugzilla.mindrot.org/show_bug.cgi?id=1291">Bug 1291</a>.
It is acknowledged to be a bug in OpenSSL 0.9.8e, and is fixed in
OpenSSL CVS. There is also a workaround in OpenSSH 4.6p1.
<p>The best workaround in affected versions of OpenSSH is to configure
sshd not to offer the "aes256-ctr", "aes192-ctr", or "arcfour256" ciphers.
Failing that, configure PuTTY to prefer either triple-DES or Blowfish
to AES and Arcfour.
<p>Both reports involved "OpenSSH_4.5p1, OpenSSL 0.9.8e 23 Feb 2007", one
on FreeBSD and one on Linux.
<p>The following changes seem to make the problem go away:
<ul><li>Using PuTTY 0.58 (no SDCTR support)
<li>Using OpenSSL 0.9.8d
<li>Using OpenSSH 3.5p1 (no SDCTR support)
<li>Using Blowfish or 3DES instead of AES
</ul>
<p>Using OpenSSH 4.4 or 4.0 (both of which support SDCTR) seems not to help.
<p>
00dc01c75a6f$1f4c6b00$1878a8c0@atlantisweb.dailyprice.de
45E59510.60303@noreply.suelze.de
